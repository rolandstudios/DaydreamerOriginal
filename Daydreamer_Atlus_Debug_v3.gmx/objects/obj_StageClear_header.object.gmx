<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(master.spr_FrameDrop_Glass==0)
{
master.num+=1;
master.spr_FrameDrop_Glass=master.num;
global.sprite[master.num]=sprite_add(working_directory+"\Imports\spr_FrameDrop_Glass.png",21,0,1,163,38);
}

if(master.spr_FrameDrop_Tech==0)
{
master.num+=1;
master.spr_FrameDrop_Tech=master.num;
global.sprite[master.num]=sprite_add(working_directory+"\Imports\spr_FrameDrop_Tech.png",21,0,1,163,38);
}

if(master.StageClear==0)
{
master.num+=1;
master.StageClear=master.num;
global.sprite[master.num]= sprite_add(working_directory+"\Imports\StageClear.png",32,0,1,392,104);
}

if instance_exists(par_HERO) 
{
//REPLENISH_HERO

if (par_HERO.hp&gt;0)
{
with instance_create(par_HERO.x,par_HERO.y,obj_YellowEnergy)
        {
        Energy=100; 
        visible=false;
        all_weapon=true;
        }
        
with instance_create(par_HERO.x,par_HERO.y,obj_RedEnergy)
        {
        Energy=100; 
        visible=false;
        }
}
}
        
credits=false;

sprite_index = global.sprite[master.StageClear];
image_speed=0;
image_index=0;
image_alpha=0;
image_xscale=1;
image_yscale=1;

Frame_A_index=0;
Frame_A_speed=.5;

Frame_B_index=0;
Frame_B_speed=.5;

Frame_C_index=0;
Frame_C_speed=.5;


shadow_offset=0;
start = false;
alarm[0]=100;

point_bonus=500;
time_bonus=500;
damage_bonus=500;

orig_time_bonus=time_bonus;
orig_damage_bonus=damage_bonus; 

grade_scale=.5;
frame_grow=0;

total=0;
gross_total=0;
frame=1;
boss_num=0;

if (global.ranked==true) //TIME BONUS
{
if instance_exists(obj_warps)
   {                     
         obj_warps.death_clock_pause=true;
   }
}    


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x,y,obj_ScreenFlash);
audio_play_sound(snd_droid_activate,10,false);

//SET NEW BOSS SCORE
if (global.Boss_Score[boss_num,3]==-1) || (orig_time_bonus+orig_damage_bonus)&gt;(global.Boss_Score[boss_num,1]+global.Boss_Score[boss_num,2]) 
{

global.Boss_Score[boss_num,1] = orig_time_bonus;
global.Boss_Score[boss_num,2] = orig_damage_bonus;

switch (grade)
    {
    case 'E': global.Boss_Score[boss_num,3] = 1; break;
    case 'D': global.Boss_Score[boss_num,3] = 2; break;
    case 'C': global.Boss_Score[boss_num,3] = 3; break;
    case 'B': global.Boss_Score[boss_num,3] = 4; break;
    case 'A': global.Boss_Score[boss_num,3] = 5; break;
    case 'S': global.Boss_Score[boss_num,3] = 6; break;
    }
}


        //A GAME ACHIEVEMENT -----------------------------
        var test
        var A_check
        
        A_check=0;
        for (test=1;test&lt;15;test+=1)
        {
        if (global.Boss_Score[test,3] &gt;= 5) A_check+=1;
        }
        
        
        if (A_check&gt;=14) //14 A's Perfect Boss Score
        {
            //XBOX ONE
            if (global.platform==1)
            {
                scr_XboxOne_Achievement(5);                                     
            }
            //PS4
            if (global.platform==3)
            {       
                scr_PS4_Trophies(5);                                   
            }         
        }                        
        //--------------------------------------- [END]
        
            if (global.platform==1) //XBOX ONE GAME PROGRESS
            {
                scr_XboxOne_Achievement(22); 
            }

global.SavedHP=par_HERO.hp;
global.SavedMoney=par_HERO.money;
global.weapon_A=par_HERO.weapon_A;
global.weapon_B=par_HERO.weapon_B;
global.weapon_C=par_HERO.weapon_C;
global.weapon_D=par_HERO.weapon_D;

global.weapon_A_energy=par_HERO.weapon_A_energy;
global.weapon_B_energy=par_HERO.weapon_B_energy;
global.weapon_C_energy=par_HERO.weapon_C_energy;
global.weapon_D_energy=par_HERO.weapon_D_energy;

global.worldmap=true; //edit 031116  

scr_savegame();

switch(irandom_range(2,4))//NON BOSS MUSIC
        {
        case 1:
        obj_DJ.track=1; 
        break;
        case 2:
        obj_DJ.track=2; 
        break;
        case 3:
        obj_DJ.track=3; 
        break;
        case 4:
        obj_DJ.track=5; 
        break;
        }
        
        obj_DJ.fade=false;
        
if(credits) room_goto(rm_Credits);

if instance_exists(obj_Vertical_Shaft)
obj_Vertical_Shaft.locked=false;

if instance_exists(obj_LS_Door)
obj_LS_Door.locked=false;
   
if !audio_is_playing(snd_Lock)
{
audio_sound_pitch(snd_Lock,global.game_speed);
audio_play_sound(snd_Lock,9,false);
} 



   
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string> if instance_exists(global.sprite[master.StageClear]) sprite_delete(global.sprite[master.StageClear]);
 instance_create(x,y,obj_Continue_header);
 instance_destroy();
                        
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_sound_gain(snd_Points_D,1,0);
audio_play_sound(snd_Points_D,10,false);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>start=true;
image_speed=.5;
image_alpha= 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (start)
{
if (master.target_speed&lt;1)
    master.target_speed=1;

if (image_index==1) 
    {
    audio_play_sound(snd_DeepWhoosh,10,false);
    audio_play_sound(snd_StageClear,10,false);
    }



if(image_index&gt;=22)
{    
if  (point_bonus&gt;0) //POINT BONUS
    {
    frame=1;
    point_bonus-=5;
    global.Points+=5;
    gross_total+=5;  
    audio_sound_pitch(snd_Points_D, global.game_speed);
    if (alarm[1]==-1) alarm[1]=2;
    total=time_bonus+damage_bonus;
    }
    else
    {
      
        if (time_bonus&gt;0) //TIME BONUS
        {
        frame=2;
        if(time_bonus&gt;=5)
            {       
            global.Points+=5;
            gross_total+=5;
            time_bonus-=5;
            }
            else
            {      
            global.Points+=time_bonus;
            gross_total+=time_bonus;
            time_bonus-=time_bonus;
            }
            
        audio_sound_pitch(snd_Points_D, 1.1*global.game_speed);
        if (alarm[1]==-1) alarm[1]=2;
        }
        else
        { 
        frame=3;          
            if (damage_bonus&gt;0) //DAMAGE BONUS
            {
            
            if(damage_bonus&gt;=5)
            {
            global.Points+=5;
            gross_total+=5;
            damage_bonus-=5;
            }
            else
            {
            global.Points+=damage_bonus;
            gross_total+=damage_bonus;
            damage_bonus-=damage_bonus;
            }
            
            audio_sound_pitch(snd_Points_D, 1.2*global.game_speed);
            if (alarm[1]==-1) alarm[1]=2;
            }
            else
            {           
                if (alarm[2]==-1) alarm[2]=100;               
            }                    
        }
        
    }
    
    if(image_index&gt;=sprite_get_number(sprite_index)-1) image_speed=-.25;
    if(image_index&lt;=22) image_speed=.25;
}//END FRAME RANGE
else
    { //SET ORIGINAL SCORES
    orig_time_bonus=time_bonus;
    orig_damage_bonus=damage_bonus;
    }

}//END START

if (point_bonus&lt;0)   point_bonus=0;
if (time_bonus&lt;0)    time_bonus=0;
if (damage_bonus&lt;0)  damage_bonus=0;
    

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//SET NEW BOSS SCORE

if (global.Boss_Score[boss_num,3]==0)
{
global.Boss_Score[boss_num,1] = orig_time_bonus;

global.Boss_Score[boss_num,2] = orig_damage_bonus;

switch (grade)
    {
    case 'E': global.Boss_Score[boss_num,3] = 1; break;
    case 'D': global.Boss_Score[boss_num,3] = 2; break;
    case 'C': global.Boss_Score[boss_num,3] = 3; break;
    case 'B': global.Boss_Score[boss_num,3] = 4; break;
    case 'A': global.Boss_Score[boss_num,3] = 5; break;
    }
}


switch(irandom_range(2,4))//NON BOSS MUSIC
        {
        case 1:
        obj_DJ.track=1; 
        break;
        case 2:
        obj_DJ.track=2; 
        break;
        case 3:
        obj_DJ.track=3; 
        break;
        case 4:
        obj_DJ.track=5; 
        break;
        }
        
        obj_DJ.fade=false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if window_get_fullscreen()
offset=1.5;
else
offset=1;
b=0;
c=.02;

x=640*offset;
y=300*offset;

if sprite_exists(sprite_index) 
{
//Draw_Header Frame Box
draw_set_color(c_white);
draw_set_alpha(.05);
//32 inc
draw_rectangle(x-75*image_index*offset,bbox_top-25*offset,x+75*image_index*offset,bbox_bottom+20*offset,false);
draw_set_alpha(.75);
draw_line(x,bbox_top-25*offset,x+100*image_index*offset,bbox_top-25*offset);
draw_line(x,bbox_top-25*offset,x-100*image_index*offset,bbox_top-25*offset);
draw_line(x,bbox_bottom+20*offset,x+100*image_index*offset,bbox_bottom+20*offset);
draw_line(x,bbox_bottom+20*offset,x-100*image_index*offset,bbox_bottom+20*offset);



if (image_index&gt;=22)
        {
        draw_sprite_ext(sprite_index,image_index,x-shadow_offset,y+shadow_offset,.75*offset,.75*offset,image_angle,c_black,.75);
        if (shadow_offset&lt;6) 
            {
            shadow_offset+=.5;
            if (shadow_offset==.5) audio_play_sound(snd_HitMetal,10,false);
            }
        }
        
    draw_set_blend_mode(bm_normal);
    draw_sprite_ext(sprite_index,image_index,x,y,.75*offset,.75*offset,image_angle,c_white,image_alpha);    
    draw_set_blend_mode(bm_normal);
    

    if (image_index&gt;=12)
    {
    //DRAW FRAMES
    shader_set(shd_bright_contrast);
    shader_set_uniform_f(global.brightness_amount,b);
    shader_set_uniform_f(global.contrast_amount,c)
    
    draw_set_blend_mode(bm_normal); 
    draw_sprite_ext(global.sprite[master.spr_FrameDrop_Tech],Frame_A_index,x,y+127*.667*offset,.667*offset,.667*offset,0,c_white,1);
    if  (frame&gt;=2)  draw_sprite_ext(global.sprite[master.spr_FrameDrop_Tech],Frame_B_index,x,y+222*.667*offset,.667*offset,.667*offset,0,c_white,1);
    if  (frame&gt;=3)  draw_sprite_ext(global.sprite[master.spr_FrameDrop_Tech],Frame_C_index,x,y+317*.667*offset,.667*offset,.667*offset,0,c_white,1);
    shader_reset();
    
    draw_set_blend_mode(bm_add);
    draw_sprite_ext(global.sprite[master.spr_FrameDrop_Glass],Frame_A_index,x,y+127*.667*offset,.667*offset,.667*offset,0,c_white,.2);
    if  (frame&gt;=2) draw_sprite_ext(global.sprite[master.spr_FrameDrop_Glass],Frame_B_index,x,y+222*.667*offset,.667*offset,.667*offset,0,c_white,.2);
    if  (frame&gt;=3) draw_sprite_ext(global.sprite[master.spr_FrameDrop_Glass],Frame_C_index,x,y+317*.667*offset,.667*offset,.667*offset,0,c_white,.2);
    draw_set_blend_mode(bm_normal);
    
    if (Frame_A_index&lt;=10) {Frame_A_speed=.5;} 
    if (Frame_A_index&gt;=20) {Frame_A_speed=-.5;}
    
    if  (frame&gt;=2)
    {
    if (Frame_B_index&lt;=10) {Frame_B_speed=.5;} 
    if (Frame_B_index&gt;=20) {Frame_B_speed=-.5;}
    }
    
    if  (frame&gt;=3)
    {
    if (Frame_C_index&lt;=10) {Frame_C_speed=.5;} 
    if (Frame_C_index&gt;=20) {Frame_C_speed=-.5;}
    }
    
    if (Frame_A_index==1) {audio_sound_pitch(snd_HitMetal,1.4); audio_play_sound(snd_HitMetal,10,false);}
    if (Frame_B_index==1) {audio_sound_pitch(snd_HitMetal,1.5); audio_play_sound(snd_HitMetal,10,false);}
    if (Frame_C_index==1) {audio_sound_pitch(snd_HitMetal,1.6); audio_play_sound(snd_HitMetal,10,false);}
    
    Frame_A_index+=Frame_A_speed; //INCRAMENT FRAME INDEX
    if  (point_bonus&lt;=0) Frame_B_index+=Frame_B_speed; 
    if  (time_bonus&lt;=0) Frame_C_index+=Frame_C_speed;
    
    //draw_set_font(fnt_Digital);
    draw_set_font(fnt_LowGun);
    draw_set_halign(fa_center);
    draw_set_valign(fa_center);
    
    score_size=.85; //SCORE FONT SIZE [DEFAULT = 1]
    score_yoffset=-5; //EXTRA Y SHIFT UP FOR LOWGUN FONT [DEFAULT = 0]
    
    draw_set_color(c_black);draw_set_alpha(.5);
    draw_text_transformed(x+2,y+(125+score_yoffset)*.667*offset+2, "Boss Bonus: " + string(point_bonus),score_size*offset,score_size*offset,0);
    if (frame&gt;=2) draw_text_transformed(x+2,y+(220+score_yoffset)*.667*offset+2, "Time Bonus: " + string(round(time_bonus)),score_size*offset,score_size*offset,0);
    if (frame&gt;=3) draw_text_transformed(x+2,y+(315+score_yoffset)*.667*offset+2, "Damage Bonus: " + string(round(damage_bonus)),score_size*offset,score_size*offset,0);
    
    draw_set_color(c_white); draw_set_alpha(1);
    draw_text_transformed(x,y+(125+score_yoffset)*.667*offset+2, "Boss Bonus: " + string(point_bonus),score_size*offset,score_size*offset,0);
    if (frame&gt;=2) draw_text_transformed(x,y+(220+score_yoffset)*.667*offset, "Time Bonus: " + string(round(time_bonus)),score_size*offset,score_size*offset,0);
    if (frame&gt;=3) draw_text_transformed(x,y+(315+score_yoffset)*.667*offset, "Damage Bonus: " + string(round(damage_bonus)),score_size*offset,score_size*offset,0);

//TOTAL SCORE ------------------
    //draw_set_font(fnt_Arcade)
    draw_set_font(fnt_Score)
    draw_set_color(c_black); draw_set_alpha(.75);
    draw_text_transformed(x+347*offset,y+103*offset,"Total: "+string(round(gross_total)),(.5+gross_total*.001*.2)*offset,(.5+gross_total*.001*.2)*offset,0);
    draw_set_color(c_white); draw_set_alpha(1);
    draw_text_transformed(x+350*offset,y+100*offset,"Total: "+string(round(gross_total)),(.5+gross_total*.001*.2)*offset,(.5+gross_total*.001*.2)*offset,0);
    draw_set_color(c_white);

    
    
    }
}


//GRADE ---------------------
if (alarm[2]&gt;0)
{
    
 if (total&lt;200)  grade="E";
 if (total&gt;=200) grade="D";
 if (total&gt;=400) grade="C";
 if (total&gt;=600) grade="B";
 if (total&gt;=800) 
    {
    grade="A";
    if !steam_get_achievement("ach_First_A") 
        steam_set_achievement("ach_First_A");
    }
 if (total&gt;=1000) grade="S";
 //grade_scale=.5+(100-alarm[2])*.01
 
 if (grade_scale&lt;1) //ZIP UP FAST
    {
     grade_scale*=1.07;
    }
    else                
    if (grade_scale&lt;1.25) //SLOW GROW
    {
     grade_scale+=.001;
    }
 
    draw_set_halign(fa_center);
    draw_set_valign(fa_center);
    
    draw_set_color(c_white);
    draw_set_font(fnt_Orbitron)
    draw_text_transformed(x+350*offset,y+(160-10*grade_scale)*offset,"Grade:",offset,offset,0); //was 300
    
    
    draw_set_color(c_black);
    draw_set_alpha(.5);
    draw_roundrect(x+(253+50)*offset,y+132*offset,x+(343+50)*offset,y+(132+frame_grow)*offset,true);
    draw_set_font(fnt_Score)
    draw_text_transformed(x+(298+50)*offset,y+192*offset,string(grade),grade_scale*offset,grade_scale*offset,0);
    
    color=make_color_hsv(irandom_range(1,255),200,255);
    draw_set_color(color);
    draw_set_alpha(1);
    draw_roundrect(x+(255+50)*offset,y+130*offset,x+(345+50)*offset,y+(130+frame_grow)*offset,true);
    draw_set_font(fnt_Score)
    draw_text_transformed(x+(300+50)*offset,y+190*offset,string(grade),grade_scale*offset,grade_scale*offset,0);
    draw_set_color(c_white);
    
   
    if (frame_grow&lt;110) frame_grow+=10;
           
    if (alarm[2]&gt;90)
    {
    if !audio_is_playing(snd_HitMetal)
    audio_play_sound(snd_HitMetal,10,false)
    
    if !audio_is_playing(snd_droid_activate)
    audio_play_sound(snd_droid_activate,10,false);
    //audio_sound_pitch(snd_Bonus, .8)
    //if !audio_is_playing(snd_Bonus)
    //audio_play_sound(snd_Bonus,11,false); 
    }
}

        
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>168,95</point>
    <point>168,168</point>
  </PhysicsShapePoints>
</object>
