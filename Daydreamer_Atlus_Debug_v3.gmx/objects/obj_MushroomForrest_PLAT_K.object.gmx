<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>1</depth>
  <persistent>0</persistent>
  <parentName>par_V_moving_platform</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(master.SWAP_spr_MushroomForrest_PLAT_K==0)
{
master.num+=1;
master.SWAP_spr_MushroomForrest_PLAT_K=master.num;
global.sprite[master.num]= sprite_add(working_directory+"\Sprites\spr_MushroomForrest_PLAT_K.png",1,0,0,0,0);
sprite_set_offset(global.sprite[master.num], sprite_get_width(global.sprite[master.num])*.5, round(sprite_get_height(global.sprite[master.num])*.5));
sprite_collision_mask(global.sprite[master.SWAP_spr_MushroomForrest_PLAT_K],  0, 2, 10, 40, 310, 183,0,225);
}
sprite_index=global.sprite[master.SWAP_spr_MushroomForrest_PLAT_K];


vsp=2;
v_vsp=vsp;
setspeed=vsp;
jump_through=false;

hit=false;
bounce=0;
bounceUP=true;
dampen=false;
orig_y=y;
hold_vsp=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(jump_through)
{
if (par_HERO.bbox_bottom-4 &gt; bbox_top)&amp;&amp; (par_HERO.bbox_left &lt; bbox_right+32) &amp;&amp; (par_HERO.bbox_right &gt; bbox_left-32) //&amp;&amp; (!par_HERO.grounded)
{
solid=0;
}
else
{
solid=1;
}
}


if instance_exists(par_HERO)
{     

if (dampen)
{          
          if place_meeting(x,y-26,par_HERO) 
              {
                if (hit==false)
                {
                    //image_blend = c_red;
                    bounceUP=true;
                    if (par_HERO.vsp&gt;0) 
                        {
                        if (par_HERO.vsp&lt;5)
                        bounce=par_HERO.vsp; 
                        else 
                        bounce=5;
                        }
                    vsp=bounce;
                    hit=true;
                }
            }
            else
            {
            hit=false;
            //image_blend = c_white;         
            }
              
       if (bounce!=0) 
        {
            if (bounceUP) 
                {
                vsp-=.1*global.game_speed;
                if (vsp&lt;=-bounce)
                    {
                    bounceUP=false;
                    bounce=bounce*.75;
                    if (bounce&lt;.05) {bounce=0;vsp=0;}
                    }
                }
            else 
                {
                vsp+=.1*global.game_speed;
                if (vsp&gt;=bounce)
                    {
                    bounceUP=true;
                    bounce=bounce*.75;
                    if (bounce&lt;.05) {bounce=0;vsp=0;}
                    }
                }
        }//END BOUNCE
        else
        {
            if (y&gt;orig_y) y-=.5;
            if (y&lt;orig_y) y+=.5;
            if (y+.5&gt;orig_y) &amp;&amp; (y-.5&lt;orig_y) y=orig_y;
        }
        
        
}//END DAMPEN


v_vsp = round(vsp*global.game_speed)
if (abs(vsp)&gt;0) &amp;&amp; (v_vsp==0)
v_vsp = sign(vsp)



if place_meeting(x,y-25,par_HERO) //MOVE HERO
    {
        if  (par_HERO.sprite_index != spr_Old_Olivia_Ultimate) &amp;&amp; (par_HERO.shieldup==false)
        {
         par_HERO.y+=v_vsp;
         par_HERO.grounded=true;
        }
    }


}//END HERO Exists





if place_meeting(x,y,obj_moving_platform_V_direction)
{
var inst;
inst = instance_nearest(x,y,obj_moving_platform_V_direction)

if (inst!=noone)
{
if (inst.y&lt;y)
    {
        vsp=abs(vsp);
    }
    else
    {
        vsp=-abs(vsp);
    }
}
//vsp=-vsp;
}

if (dampen)
{
    if place_meeting(x,y-25,par_HERO)
    y+=v_vsp;
    else
    y+=vsp*global.game_speed;
}
else
{    
    y+=vsp*global.game_speed;
}

if (par_HERO.climbledge==false)
{
if place_meeting(x,bbox_bottom+vsp,par_HERO)
            { 
               if (par_HERO.grounded)
               {
                   if (vsp&gt;0) vsp=-vsp;
               }
               else
               {
               
               if (par_HERO.vsp&lt;0) par_HERO.vsp=0;
               
               }
            }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if sprite_exists(sprite_index) draw_self();
/*
draw_text(x+100,y-15,"round(vsp): "+string(round(vsp*global.game_speed)));
draw_text(x+100,y,"vsp: "+string(vsp*global.game_speed));
draw_text(x+100,y+15,"bounce: "+string(bounce));


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>924,488</point>
    <point>924,924</point>
  </PhysicsShapePoints>
</object>
