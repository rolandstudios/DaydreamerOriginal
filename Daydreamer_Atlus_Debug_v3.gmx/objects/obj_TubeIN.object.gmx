<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-32</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(master.TubeIN==0)
{
master.num+=1;
master.TubeIN=master.num;
global.sprite[master.num] = sprite_add(working_directory+"\Imports\spr_TubeIN.png",19,0,0,312,610);
}


destination=irandom_range(1,2);

if instance_exists(obj_LSD) with (obj_LSD) {instance_destroy();}
if instance_exists(obj_LSD_clean) with (obj_LSD_clean) {instance_destroy();}


//if !instance_exists(obj_LSD_clean) instance_create(x,y,obj_LSD_clean);
if !instance_exists(obj_Mozaic_Flash) instance_create(x,y,obj_Mozaic_Flash);

sprite_index = global.sprite[master.TubeIN];
image_speed=0;
image_index=0;

alarm[0]=5;
rewind=false;
enter=true;
x=par_HERO.x;
y=par_HERO.y;

bg_alpha=0;


//Color Correction----
brightness=.1; //brightness
contrast=0; //contrast
//--------------------

switch(room)
{
case rm_World11_B:
brightness=.25; //brightness
contrast=0; //contrast
break;

case rm_World12_A:
brightness=.25; //brightness
contrast=0; //contrast
break;

case rm_GooeyDragon:
brightness=.25; //brightness
contrast=0; //contrast
break;

case rm_Sin:
brightness=.25; //brightness
contrast=0; //contrast
break;

case rm_End_Game:
brightness=.25; //brightness
contrast=0; //contrast
break;
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed=.5*global.game_speed;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(master.TubeIN==0)
{
master.num+=1;
master.TubeIN=master.num;
global.sprite[master.num] = sprite_add(working_directory+"\Imports\spr_TubeIN.png",19,0,0,312,610);
}

sprite_index = global.sprite[master.TubeIN];
par_HERO.Key_Fire=false;
x=par_HERO.x;
y=par_HERO.y;

if (image_index==1) audio_play_sound(snd_SoundStick ,10,false);


if (enter) //IF ENTERING
{


if (image_index==18) 
 {
 image_speed=-.5*global.game_speed;
 par_HERO.image_alpha=0;
 rewind=true;
 }

 if (rewind)
 {
 bg_alpha+=.052;
 if(image_index==0)
    {
    enter=false;
    rewind=false;
    
    
    par_HERO.ladder=false;
    
    switch(destination)
    {
    case 1:
    par_HERO.x = 1700;
    par_HERO.y = 1117;
    par_HERO.restart_x = 1700;
    par_HERO.restart_y = 1117;
    room_goto(rm_Olivia_House);    
    break;
    
    case 2:
    par_HERO.x = 2060;
    par_HERO.y = 1500;
    par_HERO.restart_x = 2060;
    par_HERO.restart_y = 1500;
    room_goto(rm_Classroom);
    break
    
    }
    image_speed=.5*global.game_speed;
    }
 }
}
else //IF LEAVING
{
bg_alpha-=.05;
if (image_index==18) 
 {
 image_speed=-.5*global.game_speed;
 par_HERO.image_alpha=1;
 rewind=true;
 
 par_HERO.TubeIN=false;
 par_HERO.idle=0;
 global.CutScene=false;                  
 par_HERO.invinsible=false;

 }

 if (rewind)
 {
 if(image_index==0)
    {
    if sprite_exists(global.sprite[master.TubeIN]) sprite_delete(global.sprite[master.TubeIN]);
    master.TubeIN=0;
    instance_destroy();
    }
 }
}//END LEAVING

        
 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>    draw_set_color(c_white);
    if (bg_alpha&gt;1) bg_alpha=1;
    if (bg_alpha&lt;0) bg_alpha=0;
    draw_set_alpha(bg_alpha); 
    draw_rectangle(0,0,room_width,room_height,0) //draw a red rectangle the size of the entire screen
    draw_set_alpha(1)

    shader_set(shd_bright_contrast);
    shader_set_uniform_f(global.brightness_amount , brightness);
    shader_set_uniform_f(global.contrast_amount, contrast);
    if sprite_exists(sprite_index) draw_self();
    //draw_text(x+128,y,"brightness: " + string(brightness));
    //draw_text(x+128,y-20,"contrast: " + string(contrast));
    shader_reset();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>316,547</point>
    <point>320,320</point>
  </PhysicsShapePoints>
</object>
